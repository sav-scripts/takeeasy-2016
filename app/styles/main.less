@import "common-mixins.less";
@import "misc.less";
@import (inline) "simple_scroller.css";

@background-color: #f7e08f;

@pc-width: 1200px;
@pc-height: 700px;
@mobile-width: 640px;
@mobile-height: 950px;

@use-layout: true;

.default-font(@font-size: 14px, @font-color: #000){
    font-family: '微軟正黑體', "Heiti TC", serif;
    font-size: @font-size;
    color: @font-color;
}


html {
    padding: 0;
    margin: 0;
}
body{
    position: absolute;
    width: 100%;
    height: 100%;
    overflow-x: hidden;
    background: @background-color;
    padding: 0;
    margin: 0;
}
.template-container{
    position: absolute;
    width: 100%;
    height: 100%;
}
#scene-container{
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
}
#invisible-container{
    position: absolute;
    width: 100%;
    height: 100%;
    visibility: hidden;
}

.bound{
    position: absolute;
    border: 1px solid red;
    margin-left: -1px;
    margin-top: -1px;

    z-index: 1000;
    pointer-events: none;

    .text{
        position: absolute;
        top:4px;
        width: 200px;
        height:20px;
        left:50%;
        margin-left: -100px;
        color:red;
        text-align: center;
    }
}

@media (max-width: @pc-width) {
    body{
        overflow-x: auto;
    }
    #scene-container{
        width: @pc-width;
    }
}

@media (max-height: @pc-height) {
    body{
        overflow-y: auto;
    }
    #scene-container{
        height: @pc-height;
    }
}

/** common **/
div{
    &.hidding{
        display: none;
    }

    &.disactivated{
        opacity: .5;
    }
}
.canvas-test{
    position: absolute;
    z-index: 1000;
    left:0;
    top:0;
}
.container-pc(){
    position: absolute;
    left:50%;
    top:50%;
    width: 100px;
    height: 100px;
}
.content-wrapper(){
    position: absolute;
    width: 100%;
    height: 100%;
}
.layout-pc(@image-src; @opacity: .3;){
    & when (@use-layout = true)
    {
        .layout{
            .percent-div(none, -@pc-width*.5, -@pc-height*.5, @pc-width, @pc-height, @image-src);
            opacity: @opacity;
        }
    }
}
#backgrounds{
    position: absolute;
    z-index: 0;
    width: 100%;
    height: 100%;
    .image-bg("background.jpg");

    background-position: center;

    @media (min-height: 1070px) {
        background-size:cover;
    }
}

/** ui **/
#menu-cover{
    position: absolute;
    z-index: 999;
    width: 100%;
    height: 100%;
    display: none;
}
#menu{

    position: absolute;
    z-index: 1000;
    right: 0;
    top: 0;

    .icon{
        position: absolute;

        .image-bg('menu-icon.png');
        right: 36px;
        top:33px;
        width: 36px;
        height: 36px;

        cursor: pointer;
    }

    .button-container{

        @num-buttons: 9;
        @text-gap-h: 40px;

        @button-w: 136px;
        @button-h: 41px;

        @total-h: @num-buttons * @button-h;

        position: absolute;
        right:80px;
        top:33px;
        width: @button-w;
        height: @total-h;

        overflow-y: hidden;

        transition: height .3s ease-out;

        visibility: hidden;

        &.close-mode{
            height:0;
        }

        .my-mixin(1);

        .my-mixin(@index) when (@index <= @num-buttons)
        {
            .my-mixin((@index + 1));

            @i: @index - 1;

            .button:nth-child(@{index}){
                position: relative;
                right:0;
                top:0;
                .image-bg("menu-button-base.png");
                width: @button-w;
                height: @button-h;

                cursor: pointer;

                opacity: .4;

                &.activated{
                    opacity: 1;
                }

                //            transition: background-position .4s ease-out;
                background-position: bottom;

                .text{
                    position: absolute;
                    left:25px;
                    top:13px;
                    width: 90px;
                    height: 38px;
                    .image-bg("menu-texts.png");

                    background-repeat: no-repeat;
                    background-position: 0 (-@i * @text-gap-h );
                }



                &:hover{
                    background-position: top;

                    .text{
                        background-position: -90px (-@i * @text-gap-h );
                    }
                }
            }
        }
    }
}
#logo{
    position: absolute;
    z-index: 1000;
    .image-bg('logo.png');
    left: 23px;
    top: 16px;
    width: 156px;
    height: 58px;
}
#statements{
    position: absolute;
    z-index: 1000;
    .image-bg('statements.png');
    right: 38px;
    bottom: 7px;
    width: 385px;
    height: 36px;

}

/** index **/
#index {

    .container-pc();
    .layout-pc("layouts/index-pc.jpg");

    .percent-div(left-girl, -416, -186, 153, 194, "index-left-girl.png");
    .percent-div(right-boy, 268, -239, 178, 170, "index-right-boy.png");

    .percent-div(hand, -260, -53, 535, 641, "index-hand.png");
    .percent-div(hand-girl, 144, -35, 115, 75, "index-hand-girl.png");

    .percent-div(desc, -245, -111, 508, 70, "index-desc.png");
    .percent-div(sub-title, -284, -200, 539, 81, "index-sub-title.png");
    .percent-div(title, -265, -338, 576, 179, "index-title.png");

    .percent-div(left-mob, -458, 80, 179, 161, "index-left-mob.png");
    .percent-div(button-1, -352, 114, 133, 139, "index-button-1.png");
    .percent-div(button-2, -211, 114, 133, 139, "index-button-2.png");
    .percent-div(button-3, 78, 114, 133, 139, "index-button-3.png");

    .percent-div(arrow-left, 214, 163, 30, 50, "index-arrow-left.png");
    .percent-div(arrow-right, 372, 163, 30, 50, "index-arrow-right.png");

    .sample-thumb{
        position: absolute;
        left:240px;
        top:137px;
        width: 133px;
        height: 100px;
        border: 1px solid rgba(0,0,0,.5);
        background-color: white;
    }

    .sample-serial{
        position: absolute;
        left: 242px;
        top:237px;
        .default-font(14px, #555555);
        width: 50px;
        .unselectable();
        cursor: default;
    }

    .sample-author{
        position: absolute;
        left: 285px;
        top:237px;
        .default-font(14px, #555555);
        width: 90px;
        text-align: right;
        letter-spacing: 0;
        .unselectable();
        cursor: default;
    }

    .button-1, .button-2, .button-3{
        cursor: pointer;
        &:active{
            margin-top: 5px;
        }
    }
    .arrow-left{
        cursor: pointer;
        &:active{
            margin-left: -2px;
        }
    }
    .arrow-right{
        cursor: pointer;
        &:active{
            margin-left: 2px;
        }
    }
}

/** participate **/
#participate{
    .container-pc();
    .layout-pc("layouts/participate-step-upload-pc.jpg");


    .content-title {

        .content-wrapper();

        .percent-div(title, -342, -323, 715, 157, "participate-upload-title.png");
        .percent-div(title-girl, 191, -242, 115, 75, "participate-upload-title-girl.png");
        .percent-div(left-girl, -447, -228, 117, 142, "participate-upload-left-girl.png");
    }


    .content-step-upload{

        .content-wrapper();

        .percent-div(sub-title, -313, -168, 648, 29, "participate-upload-sub-title.png");
        .percent-div(texts, -331, -112, 647, 259, "participate-upload-texts.png");
        .percent-div(mob, 424, 158, 122, 110, "participate-upload-mob.png");
        .percent-div(btn-preview, 192, 169, 86, 90, "participate-upload-btn-preview.png");
        .percent-div(btn-send, 291, 150, 138, 139, "participate-upload-btn-send.png");
        .percent-div(btn-upload, 172, 114, 136, 40, "participate-upload-btn-upload.png");

        .btn-send, .btn-preview, .btn-upload{
            cursor: pointer;
            &:active{
                margin-top: 3px;
            }


            transition: opacity .4s ease-out;
        }

        .description{
            position: absolute;
            left:-210px;
            top: -113px;
            width: 496px;
            height: 146px;
            background-color: white;
            border: 1px solid black;
            padding: 8px 10px;

            .default-font(14px, #999999);

            resize: none;
        }


        .upload-confirm{

            .percent-div(none, -179, 172, 336, 81, "participate-upload-confirm-text.png");

            .checkbox{
                position: absolute;
                left: -33px;
                top:-1px;
            }

            .btn-rule{
                .abs-div(13,62,60,22);
//                background: rgba(0,0,0,.2);
                .image-bg("transparent-pixel.png");
                background-repeat: repeat;
                cursor: pointer;
            }
        }
    }
}

#participate-success{
    position: absolute;
    width: 100%;
    height: 100%;

    z-index: 2000;

    .cover{
        position: absolute;
        width: 100%;
        height: 100%;
        background-color: #fce7b1;
        opacity: .75;
    }


    .content{

        position: absolute;
        left:50%;
        top:50%;
        width: 474px;
        height: 261px;
        .image-bg("participate-upload-success.png");
        margin-left: -237px;
        margin-top: -130px;

        .btn-close{
            .abs-div(436, 10, 28, 28);
            .image-bg("common-btn-close.png");

            cursor: pointer;
            &:active{
                margin-top: 3px;
            }
        }

        .btn-share{
            .abs-div(162,192,152,24);
            .image-bg("common-btn-facebook-share.png");

            cursor: pointer;
            &:active{
//                margin-top: 3px;
            }
        }
    }
}

/** common form **/
#common-form{
    .container-pc();
    .layout-pc("layouts/participate-step-form-pc.jpg");

//    .percent-div(title, -342, -323, 715, 157, "participate-upload-title.png");
//    .percent-div(title-girl, 191, -242, 115, 75, "participate-upload-title-girl.png");
//    .percent-div(left-girl, -447, -228, 117, 142, "participate-upload-left-girl.png");

    .percent-div(sub-title, -300, -168, 612, 29, "participate-form-sub-title.png");
    .percent-div(mob, 337, 171, 122, 110, "participate-upload-mob.png");
    .percent-div(btn-send, 202, 144, 133, 139, "participate-form-btn-send.png");

    .btn-send{
        cursor: pointer;
        &:active{
            margin-top: 3px;
        }
    }

    .fields{
        .percent-div(none, -281, -106, 324, 52, "participate-form-field-names.png");

        .field-name, .field-phone, .field-email{
            position: absolute;
            height: 24px;
            border: 1px solid black;
            background: white;

            padding: 0 8px;

            .default-font(14px, #555);
        }

        .field-name{
            left: 92px;
            top: -5px;
            width: 120px;
        }

        .field-phone{
            left: 335px;
            top: -5px;
            width: 201px;
        }

        .field-email{
            left: 94px;
            top: 32px;
            width: 442px;
        }
    }

    .eula-content{

        @w: 789px;
        @h: 163px;

        position: absolute;
        background: white;
        border: 1px solid black;
        left:-413px;
        top:-22px;
        width: @w;
        height: @h;

        .scroll-base{
            position: absolute;
            height: 100%;
            width: 27px;
            right: 0;

            background-color: #fff7dc;
        }

        .content-container{
            position: absolute;

            left:3px;
            top:3px;
            width: @w - 6px;
            height: @h - 6px;

            .content{
                position: relative;
                width: 728px;
                height: 476px;

                left: 13px;

//                background: linear-gradient(black, white);
                .image-bg("eula-content.png");

                .unselectable();

                overflow-y: auto;
            }
        }
        .ss_scrollbase{
            background: none;
        }
        .ss_scrollbar{

            position: absolute;

            .image-bg("scroll-bar.png");
            width: 21px;
            height: 38px;
            margin-left: 0;
            margin-top: 0;
            background-color: transparent;
        }



    }

    .eula-confirm{

        .percent-div(none, -103, 165, 266, 14, "participate-form-confirm-text.png");

        .checkbox{
            position: absolute;
            left: -33px;
            top:-4px;
        }
    }
}

/** entry-view **/
#entry-view{
    .container-pc();
    .layout-pc("layouts/entry-view-pc.jpg");

    .basement{
        .abs-div(-531, -180, 1056, 462);
//        background-color: rgba(255,255,255,.3);
        background: white;
        border: 1px solid black;
    }

    .btn-close{
        .abs-div(487, -170, 28, 28);
        .image-bg("common-btn-close.png");

        cursor: pointer;
        &:active{
            margin-top: 3px;
        }
    }

    .arrow-left{
        .abs-div(-550, 30, 38, 38);
        .image-bg("entry-view-arrow-left.png");

        cursor: pointer;
        &:active{
            margin-left: -3px;
        }
    }

    .arrow-right{
        .abs-div(506, 30, 38, 38);
        .image-bg("entry-view-arrow-right.png");

        cursor: pointer;
        &:active{
            margin-left: 3px;
        }
    }

    .optional-fields{

        position: absolute;
        left:0;
        top:0;

        .texts-1{
            .abs-div(49, -126, 78, 80);
            .image-bg("entry-view-texts.png");
            background-size: auto;
            background-position: left top;
        }

        .field-num-votes{
            .default-font(30px, red);
            position: absolute;
            left: 142px;
            top: -134px;
            width: 300px;
            height: 30px;
            font-weight: bold;
            letter-spacing: 1px;
        }

        .field-serial{
            .default-font(17px, black);
            position: absolute;
            left: 97px;
            top: -88px;
            width: 300px;
            height: 30px;
            font-weight: bold;
            letter-spacing: 1px;
        }

        .field-author{
            .default-font(17px, black);
            position: absolute;
            left: 97px;
            top: -66px;
            width: 300px;
            height: 30px;
            font-weight: bold;
            letter-spacing: 1px;
        }
    }



    .texts-2{
        .abs-div(49, -46, 78, 21);
        .image-bg("entry-view-texts.png");
        background-size: auto;
        background-position: left bottom;
    }

    .field-description{

        .default-font(17px, black);
        position: absolute;
        left: 48px;
        top: -23px;
        width: 430px;
        height: 252px;
        letter-spacing: 1px;
        //border: 1px solid black;
        line-height: 23px;
    }

    .image-preview{
        .abs-div(-478, -127, 474, 356);
        background: white;
        border: 1px solid black;
    }
}

/** rule **/
#rule{
    .container-pc();
    .layout-pc("layouts/rule-pc.jpg");

    .basement{

        .abs-div(-531,-255,1056,537);

        background-color:white;
        border: 1px solid #666;

        .title{
            .abs-div(432,24,176,46);
            .image-bg("rule-title.png");
        }
        .scroll-base{
            .abs-div(1020, 86, 27, 444);
          background-color: #fff7dc;
//            background-color: blue;
        }


        .btn-close{
            .abs-div(1019, 9, 28, 28);
            .image-bg("common-btn-close.png");

            cursor: pointer;
            &:active{
                margin-top: 3px;
            }
        }

        .content-container{
            position: absolute;

            left:33px;
            top:86px;
            width: 980px;
            height: 444px;

//            background: rgba(0,0,0,.2);

            .content{

                position: relative;
                width: 961px;
                height: 1495px;

                margin-top: 4px;

                .image-bg("rule-content.png");

                .unselectable();

                overflow-y: auto;

            }
        }
        .ss_scrollbase{
            background: none;
        }
        .ss_scrollbar{

            position: absolute;

            .image-bg("scroll-bar.png");
            width: 21px;
            height: 38px;
            margin-left: 0;
            margin-top: 0;
            background-color: transparent;
        }
    }
}
